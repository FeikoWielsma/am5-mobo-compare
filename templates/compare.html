{% extends "base.html" %}

{% block content %}

<!-- Header merged into toolbar -->

{% include 'partials/compare_toolbar.html' %}

<div class="table-container shadow-sm rounded border">
    {% include 'partials/compare_table.html' %}
</div>

<!-- Rear I/O Image Modal -->
<div class="modal fade" id="ioModal" tabindex="-1" aria-labelledby="ioModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content bg-dark">
            <div class="modal-header border-secondary">
                <h5 class="modal-title text-light" id="ioModalLabel">Rear I/O View</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body text-center p-0 bg-secondary">
                <img id="ioModalImage" src="" class="img-fluid" alt="Rear I/O" style="max-height: 80vh;">
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}

<script>
    // Embed LAN Lookup from backend
    const LAN_SCORES = {{ lan_lookup | tojson | safe if lan_lookup else '{}' }};
</script>
<script src="{{ url_for('static', filename='js/parsers.js') }}"></script>
<script src="{{ url_for('static', filename='js/compare.js') }}"></script>
{% endblock %}