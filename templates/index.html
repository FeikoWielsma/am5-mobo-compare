{% extends "base.html" %}

{% block content %}
<div class="row mb-3">
    <div class="col-md-6">
        <input type="text" id="searchInput" class="form-control" placeholder="Search by Model, Brand, Chipset...">
    </div>
    <div class="col-md-6 text-end">
        <span class="text-muted" id="countDisplay">{{ mobos|length }} motherboards loaded</span>
    </div>
</div>

<div class="table-responsive">
    <table class="table table-striped table-hover" id="moboTable">
        <thead>
            <tr>
                <th>Select</th>
                <th>Brand</th>
                <th>Chipset</th>
                <th>Model</th>
                <th>Form Factor</th>
                <th>Price (Approx)</th>
            </tr>
        </thead>
        <tbody>
            {% for m in mobos %}
            <tr class="mobo-row" data-brand="{{ m.brand|lower }}" data-model="{{ m.model|lower }}"
                data-chipset="{{ m.chipset|lower }}">
                <td>
                    <input type="checkbox" class="mobo-select form-check-input" value="{{ m.id }}"
                        data-name="{{ m.brand }} {{ m.model }}">
                </td>
                <td>{{ m.brand }}</td>
                <td>{{ m.chipset }}</td>
                <td class="fw-bold">{{ m.model }}</td>
                <td>{{ m.get('Motherboard', {}).get('General', {}).get('Form Factor', '-') }}</td>
                <td>{% set price = m.get('General', {}).get('Market', {}).get('A-MSRP (USD)', '-') %}{{ price if price
                    != 'nan' else '-' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="compare-bar" id="compareBar">
    <div class="container d-flex justify-content-between align-items-center">
        <span><span id="selectedCount">0</span> items selected</span>
        <button class="btn btn-primary" id="compareBtn">Compare Selected</button>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}